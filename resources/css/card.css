
/* style pour la gestion des cartes */
        :root {
            --primary: #3b82f6; --success: #10b981; --warning: #f59e0b; --danger: #ef4444;
            --bg: #f8fafc; --white: #ffffff; --text: #1e293b;
        }

        body { font-family: 'Inter', sans-serif; background: var(--bg); color: var(--text); margin: 0; padding: 20px; }
        .container { max-width: 1200px; margin: 0 auto; }

        /* --- STATS BOXES --- */
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .stat-card { background: var(--white); padding: 20px; border-radius: 12px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); border-left: 5px solid #cbd5e1; }
        .stat-card.blue { border-left-color: var(--primary); }
        .stat-card.green { border-left-color: var(--success); }
        .stat-card.orange { border-left-color: var(--warning); }
        .stat-card.red { border-left-color: var(--danger); }
        .stat-card small { font-weight: 600; color: #64748b; text-transform: uppercase; font-size: 12px; }
        .stat-card h2 { margin: 10px 0 0; font-size: 28px; }

        /* --- FILTERS --- */
        .filter-section { background: var(--white); padding: 15px 20px; border-radius: 10px; margin-bottom: 30px; display: flex; align-items: center; gap: 15px; }
        .filter-btn { text-decoration: none; padding: 8px 16px; border-radius: 6px; background: #f1f5f9; color: var(--text); font-size: 14px; transition: 0.3s; }
        .filter-btn.active { background: var(--primary); color: white; }
                /* Effet hover */
        .filter-btn:hover {
            transform: scale(1.05);
            background: #d1d5db; /* gris un peu plus foncé */
            box-shadow: 0 4px 10px rgba(0,0,0,0.15);
        }

        /* Bouton actif (filtre sélectionné) */
        .filter-btn.active {
            background: #3b82f6; /* bleu */
            color: white;
            font-weight: bold;
        }
        .filter-btn.active:hover {
            background: #2563eb; /* bleu plus foncé au survol */
        }


        /* --- CARDS GRID --- */
        .cards-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 25px; }
        .student-card { background: var(--white); border-radius: 15px; padding: 20px; border: 1px solid #e2e8f0; text-align: center; position: relative; }
        .status-badge { position: absolute; top: 15px; left: 15px; padding: 4px 10px; border-radius: 5px; font-size: 10px; font-weight: bold; text-transform: uppercase; }
        .status-active { background: #dcfce7; color: #166534; }
        .status-suspended { background: #fef3c7; color: #92400e; }

        .qr-area { margin: 20px auto; padding: 10px; display: inline-block; background: #fff; border: 1px dashed #cbd5e1; border-radius: 10px; }
        .student-name { font-size: 18px; font-weight: 700; margin: 10px 0 5px; }
        .student-info { font-size: 14px; color: #64748b; margin-bottom: 20px; }

        /* Effet hover générique */
        .btn:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }
        .btn-voir:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            text-decoration: none;

        }

        /* Couleurs plus foncées au survol */
        .btn-success:hover { background: #059669; }
        .btn-warning:hover { background: #d97706; }
        .btn-danger:hover  { background: #dc2626; }
        .btn-info:hover    { background: #2563eb; }

        /* QR Code hover */
        .qr-area a, 
        .qr-area img, 
        .qr-area svg {
            display: inline-block;
            transition: transform 0.3s ease;
        }

        .qr-area a:hover img,
        .qr-area a:hover svg {
            transform: scale(1.1);
        }

        /* --- BUTTONS --- */
        .card-actions { display: flex; gap: 10px; }
        .btn { flex: 1; padding: 10px; border-radius: 8px; border: none; font-weight: 600; cursor: pointer; font-size: 13px; transition: 0.2s; }
        .btn-view { background: #e0e7ff; color: var(--primary); }
        .btn-suspend { background: #fff7ed; color: var(--warning); }

        /* --- MODAL --- */
        .modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.5); align-items: center; justify-content: center; z-index: 1000; }
        .modal-content { background: white; padding: 30px; border-radius: 20px; width: 350px; text-align: center; }


        .expiration-info {
            margin-top: 10px;
            font-size: 0.85rem;
            color: #777; /* Gris comme sur le modèle */
            font-weight: 500;
        }

        .expiry-date {
            color: #555;
            font-weight: 600;
        }

        /* Style des boutons sous la date */
        .card-actions {
            display: flex;
            gap: 8px;
            margin-top: 15px;
            justify-content: center;
        }
        .card-footer { 
            margin-top: 20px; 
            display: flex; gap: 5px; 
            justify-content: center;
        }
      /* Le fond noir transparent qui couvre tout l'écran */
.modal {
    display: none; /* Changé en 'flex' par le JS */
    position: fixed;
    z-index: 9999;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.8); /* Fond sombre */
    
    /* Ces 3 lignes centrent le contenu exactement au milieu */
    justify-content: center;
    align-items: center;
}

/* Le conteneur qui enveloppe la carte et les boutons */
.modal-content-wrapper {
    display: flex;
    flex-direction: column;
    align-items: center; /* Centre les boutons sous la carte */
    gap: 20px; /* Espace entre la carte et les boutons */
}

/* On s'assure que la carte a des dimensions fixes pour ne pas flotter */
.id-card-view {
    width: 500px;
    height: 300px;
    background: white;
    border-radius: 15px;
    display: flex;
    overflow: hidden;
    box-shadow: 0 15px 35px rgba(0,0,0,0.5);
}
/* BANDEAU GAUCHE */
.side-bar {
    width: 38%; background: #003366;
    color: white; display: flex; flex-direction: column;
    align-items: center; padding: 15px;
}

.uni-logo img { width: 60px; margin-bottom: 5px; }
.uni-name { font-size: 10px; font-weight: bold; text-align: center; line-height: 1.2; margin-bottom: 20px; }

.photo-box img {
    width: 120px; height: 140px;
    border: 3px solid white; border-radius: 8px; object-fit: cover;
}

/* CORPS DROIT */
.card-body { width: 62%; padding: 20px; position: relative; display: flex; flex-direction: column; }

.card-header { 
    color: #003366; font-size: 20px; font-weight: 900; 
    border-bottom: 3px solid #003366; margin-bottom: 15px; padding-bottom: 5px;
}

.info-container { flex-grow: 1; }
.info-row { margin-bottom: 12px; text-align: left; }
.info-row label { font-size: 9px; color: #888; text-transform: uppercase; font-weight: bold; display: block; }
.info-row .val { font-size: 15px; font-weight: 700; color: #222; }

/* DATE EXPIRATION */
.val-expiry { color: #d32f2f !important; font-size: 1.1rem !important; font-weight: 800 !important; }

/* QR CODE POSITIONNÉ EN BAS À DROITE */
.qr-zone {
    position: absolute;
    right: 15px;
    bottom: 15px;
    width: 75px;
    height: 75px;
}
.qr-zone canvas, .qr-zone img { width: 100% !important; height: 100% !important; }
/* Conteneur principal de la vue carte */
.id-card-view {
    display: flex;
    width: 500px;
    height: 300px;
    background: white;
    border-radius: 15px;
    overflow: hidden;
    box-shadow: 0 10px 25px rgba(0,0,0,0.2);
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

/* Bande bleue à gauche */
.side-bar {
    width: 35%;
    background: #003366; /* Bleu UJKZ */
    color: white;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 15px;
    text-align: center;
}

.uni-logo img {
    width: 60px;
    margin-bottom: 5px;
}

.uni-name {
    font-size: 12px;
    font-weight: bold;
    margin-bottom: 20px;
}

.photo-box {
    width: 110px;
    height: 130px;
    background: white;
    border-radius: 8px;
    overflow: hidden;
    border: 3px solid white;
}

.photo-box img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

/* Corps de la carte (Blanc) */
.card-body {
    display: flex;
    flex-direction: column;
    justify-content: flex-start; 
    height: 100%;
    padding: 15px 20px;
}

/* En-tête avec Statut bien aligné */
.brand-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 5px;
    border-bottom: 2px solid #003366;
    padding-bottom: 5px;
}

.brand-text {
    font-weight: bold;
    font-size: 16px;
    color: #003366;
}

.status-badge {
    padding: 3px 10px;
    border-radius: 5px;
    font-size: 10px;
    font-weight: bold;
    color: white;
    text-transform: uppercase;
}

/* Sections d'informations */
.info-section {
    flex-grow: 0;
    display: flex;
    flex-direction: column;
    justify-content: space-around;
    margin-bottom: 5px;
}

.info-group label {
    display: block;
    font-size: 9px;
    color: #666;
    margin-bottom: 1px;
}

.val-name {
    font-size: 12px;
    font-weight: bold;
    color: #333;
}

.val, .val-id {
    font-size: 13px;
    font-weight: 500;
}

/* Zone du bas corrigée */
.bottom-row {
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
   margin-top: 5px; /* Réduit de 10px à 5px pour remonter le bloc */
    padding-top: 5px;
}

.date-group {
    font-size: 11px;
}

/* Fix final pour le QR Code */
.qr-code-container {
    width: 50px;
    height: 50px;
    background: white;
    border: 1px solid #ddd;
    padding: 3px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.qr-code-container svg {
    width: 100% !important;
    height: 100% !important;
}

/* Boutons en dehors de la carte */
.modal-actions {
    margin-top: 20px;
    text-align: center;
    
}
.btn-close{
    background: #ef4444; /* rouge */
    color: white;
    padding: 8px 16px;
    border-radius: 6px;
    text-decoration: none;
    font-size: 12px;
}
.btn-close:hover {
    background: #dc2626; /* rouge plus foncé au survol */
    transform: scale(1.05);
    box-shadow: 0 4px 10px rgba(0,0,0,0.15);
}
.btn-download{
    background: blue;
    color: white;
    padding: 8px 16px;
    border-radius: 6px;
    text-decoration: none;
    font-size: 12px;
}
.btn-download:hover {
    background: #00008b; /* bleu plus foncé au survol */
    transform: scale(1.05);
    box-shadow: 0 4px 10px rgba(0,0,0,0.15);
}

/* Conteneur de la photo */
.photo-box {
    width: 110px;
    height: 130px;
    background: white;
    border-radius: 8px;
    overflow: hidden; /* Empêche l'image de déborder pendant le zoom */
    border: 3px solid white;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
}

/* Image par défaut */
.photo-box img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.4s ease; /* Rend le zoom fluide */
    cursor: zoom-in; /* Change le curseur en loupe */
}
.expiry-date {
    color: #ef4444;
}

/* Effet Zoom au passage de la souris */
.photo-box img:hover {
    transform: scale(1.4); /* Agrandit l'image de 40% */
}

@media print {
    /* Cache les boutons et le fond sombre à l'impression */
    .modal-actions, .btn-close, .btn-print {
        display: none !important;
    }
    
    .modal {
        background: white !important;
    }

    body * {
        visibility: hidden; /* Cache tout le reste de la page */
    }

    #cardModal, #cardModal * {
        visibility: visible; /* Affiche uniquement la carte */
    }

    #cardModal {
        position: absolute;
        left: 0;
        top: 0;
    }
}

.status-badge.suspended { background: #fef3c7; color: #92400e; } /* Orange clair */
.status-badge.expired { background: #fee2e2; color: #991b1b; }   /* Rouge clair */
.status-badge.active { background: #d1fae5; color: #065f46; }    /* Vert clair */

.return-btn {
    background: #3b82f6; /* bleu */
    color: white;
    padding: 8px 16px;
    border-radius: 6px;
    text-decoration: none;
    font-size: 14px;
    font-weight: 500;
    transition: transform 0.2s ease, background-color 0.2s ease, box-shadow 0.2s ease;
}

.return-btn:hover {
    background: #2563eb; /* bleu plus foncé au survol */
    transform: scale(1.05);
    box-shadow: 0 4px 10px rgba(0,0,0,0.15);
}

.return-container {
    width: 100%;
    display: flex;
    justify-content: flex-end; /* pousse le bouton à droite */
    margin-bottom: 15px;
}
